(function(global,factory){if('function'==typeof define&&define.amd)define(['exports','react','prop-types','./styled-elements'],factory);else if('undefined'!=typeof exports)factory(exports,require('react'),require('prop-types'),require('./styled-elements'));else{var mod={exports:{}};factory(mod.exports,global.React,global.propTypes,global.styledElements),global.index=mod.exports}})(this,function(exports,_react,_propTypes,_styledElements){'use strict';function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError('Cannot call a class as a function')}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return call&&('object'==typeof call||'function'==typeof call)?call:self}function _inherits(subClass,superClass){if('function'!=typeof superClass&&null!==superClass)throw new TypeError('Super expression must either be null or a function, not '+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function last(arr){var pre=1<arguments.length&&void 0!==arguments[1]?arguments[1]:'',base=2<arr.length?''+arr[arr.length-2]:'';return 0!==base.indexOf(pre+'> ')&&(base='bash'),base.replace(pre+'> ','').split(' ')[0]}Object.defineProperty(exports,'__esModule',{value:!0});var _class,_temp2,_react2=_interopRequireDefault(_react),_propTypes2=_interopRequireDefault(_propTypes),_extends=Object.assign||function(target){for(var source,i=1;i<arguments.length;i++)for(var key in source=arguments[i],source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key]);return target},_createClass=function(){function defineProperties(target,props){for(var descriptor,i=0;i<props.length;i++)descriptor=props[i],descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,'value'in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),Tabs=(_temp2=_class=function(_Component){function Tabs(){var _ref,_temp,_this,_ret;_classCallCheck(this,Tabs);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _ret=(_temp=(_this=_possibleConstructorReturn(this,(_ref=Tabs.__proto__||Object.getPrototypeOf(Tabs)).call.apply(_ref,[this].concat(args))),_this),_this.state={showingPlus:!1},_this.handleBarClick=function(e){e.stopPropagation(),_this.props.createTab()},_this.handleTabClick=function(e,index){e.preventDefault(),e.stopPropagation(),_this.props.setActiveTab(index)},_this.handleRemoveClick=function(e,index,instance){return e.preventDefault(),e.stopPropagation(),_this.props.removeTab(index,instance.props.id),!1},_this.removePlus=function(){_this.state.showingPlus&&_this.setState({showingPlus:!1})},_this.showPlus=function(){_this.state.showingPlus||_this.setState({showingPlus:!0})},_temp),_possibleConstructorReturn(_this,_ret)}return _inherits(Tabs,_Component),_createClass(Tabs,[{key:'render',value:function(){var _this2=this,showingPlus=this.state.showingPlus,_props=this.props,style=_props.style,active=_props.active,tabs=this.context.instances.map(function(_ref2){var index=_ref2.index,instance=_ref2.instance,title=instance&&instance.state?last(instance.state.summary,instance.state.promptPrefix):'bash';return _react2.default.createElement(_styledElements.Tab,{key:index,active:active===index,onClick:function(e){return _this2.handleTabClick(e,index)},onFocus:function(e){return _this2.handleTabClick(e,index)},title:title,tabIndex:0},1<_this2.context.instances.length&&_react2.default.createElement(_styledElements.TabClose,{title:'Close Tab',onMouseDown:function(e){return _this2.handleRemoveClick(e,index,instance)}},'x'),title)});return _react2.default.createElement(_styledElements.TabBar,{style:_extends({},style,this.context.maximise?{maxWidth:'100%'}:{})},tabs,_react2.default.createElement(_styledElements.TabBarEmpty,{onMouseEnter:this.showPlus,onMouseLeave:this.removePlus},_react2.default.createElement(_styledElements.TabPlus,{visible:showingPlus,onClick:this.handleBarClick},'+')))}}]),Tabs}(_react.Component),_class.displayName='Tabs',_class.propTypes={style:_propTypes2.default.object,active:_propTypes2.default.string,setActiveTab:_propTypes2.default.func,removeTab:_propTypes2.default.func,createTab:_propTypes2.default.func},_class.defaultProps={style:{}},_class.contextTypes={instances:_propTypes2.default.array,maximise:_propTypes2.default.bool},_temp2);exports.default=Tabs});
//# sourceMappingURL=index.js.map