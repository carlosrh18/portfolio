{"version":3,"sources":["../../src/js/utils.js"],"names":["handleLogging","method","addToOutput","console","args","oldLog","e","Error","res","slice","map","arg","i","Object","defineProperty","value","writable","isServer","window","document","getOs","os","family","indexOf","linuxPlatforms","darwinPlatforms"],"mappings":"umBAYgBA,a,CAAT,SAAuBC,MAAvB,CAA+BC,WAA/B,CAA4C,CAEjDC,QAAQF,MAAR,EAAkB,UAAa,+BAATG,IAAS,qCAATA,IAAS,uBAC7B,GAAI,cACF,mBAAQC,MAAR,qBAAmBJ,MAAnB,aAAiCG,IAAjC,EACD,CAAC,MAAOE,CAAP,CAAU,CACV,KAAM,IAAIC,MAAJ,CAAU,sDAAV,CACP,CACD,GAAMC,KAAM,UAAIJ,IAAJ,EAAUK,KAAV,CAAgB,CAAhB,CAAmB,EAAnB,EAAuBC,GAAvB,CAA2B,SAACC,GAAD,CAAMC,CAAN,CAAY,CACjD,0BAAeD,IAAf,qBAAeA,GAAf,GACE,IAAK,QAAL,CACE,MAAO,+DAAiB,KAAMA,GAAvB,CAA4B,cAAeC,CAA3C,EAAP,CACF,IAAK,UAAL,CACE,SAAUD,GAAV,CACF,QACE,MAAOA,IAAP,CANJ,CAQD,CATW,CAAZ,CAUAT,YAAYM,GAAZ,CACD,CAnBgD,CAoBjDK,OAAOC,cAAP,CAAsBX,QAAQF,MAAR,CAAtB,CAAuC,MAAvC,CAA+C,CAAEc,MAAOd,MAAT,CAAiBe,WAAjB,CAA/C,CACD,C,SAEeC,Q,CAAT,UAAoB,CACzB,MAAO,EAAoB,WAAlB,QAAOC,OAAP,EAAiCA,OAAOC,QAA1C,CACR,C,SAKeC,K,CAAT,UAAiB,IACdC,GADc,oBACdA,EADc,OAEJ,KAAd,MAAGC,MAAH,EAAuD,CAAjC,MAAGA,MAAH,CAAUC,OAAV,CAAkB,SAAlB,CAFJ,CAGb,KAHa,CAKJ,IAAd,MAAGD,MAAH,EAA0D,CAAC,CAArC,gBAAeC,OAAf,CAAuBF,GAAGC,MAA1B,CALJ,CAMb,OANa,CAQJ,IAAd,MAAGA,MAAH,EAA2D,CAAC,CAAtC,iBAAgBC,OAAhB,CAAwBF,GAAGC,MAA3B,CARJ,CASb,QATa,CAWf,SACR,C,8XAhDA,WAAwB,CACvBnB,eAAoBA,WACrB,CAFA,G,CAiCD,GAAMqB,gBAAiB,CAAC,QAAD,CAAW,QAAX,CAAqB,QAArB,CAA+B,SAA/B,CAA0C,MAA1C,CAAkD,SAAlD,CAAvB,CACMC,gBAAkB,CAAC,MAAD,CAAS,KAAT,C","file":"utils.js","sourcesContent":["/* eslint-disable no-console */\nimport React from 'react'; // eslint-disable-line\nimport ObjectInspector from 'react-object-inspector';\nimport platform from 'platform';\n\n// Capture the console.log calls (hijacking)\n(function setOldLogger() {\n  console['oldLog'] = console['log']; // eslint-disable-line dot-notation\n}());\n\n// Handle console logging\n// eslint-disable-next-line import/prefer-default-export\nexport function handleLogging(method, addToOutput) {\n  // eslint-disable-next-line no-console\n  console[method] = (...args) => {\n    try {\n      console.oldLog(`[${method}]`, ...args);\n    } catch (e) {\n      throw new Error('Terminal was loaded more than once check script tags');\n    }\n    const res = [...args].slice(0, 15).map((arg, i) => {\n      switch (typeof arg) {\n        case 'object':\n          return <ObjectInspector data={arg} key={`object-${i}`} />;\n        case 'function':\n          return `${arg}`;\n        default:\n          return arg;\n      }\n    });\n    addToOutput(res);\n  };\n  Object.defineProperty(console[method], 'name', { value: method, writable: false }); // eslint-disable-line no-console\n}\n\nexport function isServer() {\n  return !(typeof window !== 'undefined' && window.document);\n}\n\nconst linuxPlatforms = ['Ubuntu', 'Debian', 'Fedora', 'Red Hat', 'SuSE', 'Android'];\nconst darwinPlatforms = ['OS X', 'iOS'];\n\nexport function getOs() {\n  const { os } = platform;\n  if (os.family !== null && os.family.indexOf('Windows') === 0) {\n    return 'win';\n  }\n  if (os.family !== null && linuxPlatforms.indexOf(os.family) > -1) {\n    return 'linux';\n  }\n  if (os.family !== null && darwinPlatforms.indexOf(os.family) > -1) {\n    return 'darwin';\n  }\n  return 'unknown';\n}\n"]}